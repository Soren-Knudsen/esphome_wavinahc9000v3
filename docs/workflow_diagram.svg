<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Simplified SVG flow diagram; can be converted to PNG if needed -->
<svg xmlns="http://www.w3.org/2000/svg" width="880" height="320" viewBox="0 0 880 320" font-family="Segoe UI, Arial, sans-serif">
  <style>
    .box { fill:#0d47a1; stroke:#08315f; stroke-width:1.2; rx:6; ry:6; }
    .box2 { fill:#1565c0; stroke:#0d3b73; stroke-width:1.2; rx:6; ry:6; }
    .text { fill:#ffffff; font-size:14px; font-weight:500; }
    .arrow { stroke:#333; stroke-width:2; marker-end:url(#arrowhead); }
    .label { fill:#333; font-size:12px; font-weight:400; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <!-- Nodes -->
  <rect class="box"   x="20"  y="40"  width="160" height="60" />
  <text class="text"  x="100" y="70" text-anchor="middle">Flash Generation</text>
  <text class="text"  x="100" y="88" text-anchor="middle">Config</text>

  <rect class="box2"  x="220" y="40"  width="160" height="60" />
  <text class="text" x="300" y="70" text-anchor="middle">Wait for Discovery</text>
  <text class="text" x="300" y="88" text-anchor="middle">(yaml_ready)</text>

  <rect class="box"   x="420" y="40"  width="160" height="60" />
  <text class="text" x="500" y="63" text-anchor="middle">Publish YAML</text>
  <text class="text" x="500" y="81" text-anchor="middle">Text Sensors</text>

  <rect class="box2"  x="620" y="40"  width="160" height="60" />
  <text class="text" x="700" y="63" text-anchor="middle">Render Jinja</text>
  <text class="text" x="700" y="81" text-anchor="middle">Template</text>

  <rect class="box"   x="220" y="180" width="160" height="60" />
  <text class="text" x="300" y="210" text-anchor="middle">Copy Entities</text>
  <text class="text" x="300" y="228" text-anchor="middle">to Final YAML</text>

  <rect class="box2"  x="420" y="180" width="160" height="60" />
  <text class="text" x="500" y="210" text-anchor="middle">Disable Generator</text>
  <text class="text" x="500" y="228" text-anchor="middle">Package</text>

  <rect class="box"   x="620" y="180" width="160" height="60" />
  <text class="text" x="700" y="202" text-anchor="middle">Rebuild & Upload</text>
  <text class="text" x="700" y="220" text-anchor="middle">(Clean Runtime)</text>

  <!-- Arrows top row -->
  <line class="arrow" x1="180" y1="70" x2="220" y2="70" />
  <line class="arrow" x1="380" y1="70" x2="420" y2="70" />
  <line class="arrow" x1="580" y1="70" x2="620" y2="70" />
  <line class="arrow" x1="700" y1="100" x2="700" y2="180" />
  <!-- Arrows bottom row -->
  <line class="arrow" x1="380" y1="210" x2="420" y2="210" />
  <line class="arrow" x1="580" y1="210" x2="620" y2="210" />
  <!-- Loop back optional -->
  <path class="arrow" d="M620 180 C600 160, 560 140, 500 140 C440 140, 400 160, 380 180" fill="none" />
  <text class="label" x="500" y="132" text-anchor="middle">Need to Regenerate Later</text>

</svg>
